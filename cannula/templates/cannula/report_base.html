{% extends "startmin/base.html" %}

{% load staticfiles %}

{% block old-styles %}
    <link rel="stylesheet" type="text/css" href="{% static 'cannula/w3.css' %}" />
{% endblock %}

{% block extra-styles %}
    <style type="text/css">
        #sidebar.active {
            margin-left: -250px;
        }
    </style>
{% endblock %}

{% block content %}

<div class="row">
	<table class="w3-table w3-border w3-bordered" border="1">
	<thead class="w3-gray">
	<tr>
		{% for h in ou_headers %}
		<th class="w3-center" rowspan="2">{{ h }}</th>
		{% endfor %}

		{% for de_name, cat_combo in data_element_names %}
		{% if cat_combo %}
		<th class="w3-center">{{ de_name }}</th>
		{% else %}
		<th class="w3-center" rowspan="2">{{ de_name }}</th>
		{% endif %}
		{% endfor %}
	</tr>
	<tr>
		{% for de_name, cat_combo in data_element_names %}
		{% if cat_combo %}
		<th class="w3-center">{{ cat_combo }}</th>
		{% endif %}
		{% endfor %}
	</tr>
	</thead>
	<tbody>
	{% for ou_path, group in grouped_data %}
	<tr>
		{% for ou in ou_path %}
		<td>{{ ou }}</td>
		{% endfor %}
		{% for x in group %}
		{% block datacell %}
        <td class="w3-right-align{% for mapping_indices,canonical_name in legend_set_mappings.items %}{% if forloop.parentloop.counter0 in mapping_indices %} {{ canonical_name }}{% endif %}{% endfor %}">{{ x.numeric_sum|floatformat }}</td>
		{% endblock datacell %}
		{% endfor %}
	</tr>
	{% endfor %}
	</tbody>
	</table>
</div>
{% endblock %}

